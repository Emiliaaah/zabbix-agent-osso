<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
    <version>6.4</version>
    <template_groups>
        <template_group>
            <uuid>a571c0d144b14fd4a87a9d9b2aa9fcd6</uuid>
            <name>Templates/Applications</name>
        </template_group>
    </template_groups>
    <templates>
        <template>
            <uuid>1d12ff7392ab453dae7ed2081ca52f1c</uuid>
            <template>Template App Tempsens</template>
            <name>Template App Tempsens</name>
            <groups>
                <group>
                    <name>Templates/Applications</name>
                </group>
            </groups>
            <discovery_rules>
                <discovery_rule>
                    <uuid>04151d8cecd4417f9ca934bedff7c565</uuid>
                    <name>Discover serial devices</name>
                    <type>ZABBIX_ACTIVE</type>
                    <key>readserial.discover</key>
                    <lifetime>90d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <uuid>ff93dbb44a6e41308e7a4525d9d37496</uuid>
                            <name>Read {#DEV} json</name>
                            <type>ZABBIX_ACTIVE</type>
                            <key>readserial.getline[{#DEV}]</key>
                            <history>0</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                        </item_prototype>
                        <item_prototype>
                            <uuid>281715eb5d4a448fbd86af045935ee01</uuid>
                            <name>Sensor {#DEV} humidity</name>
                            <type>DEPENDENT</type>
                            <key>tempsens.humidity[{#DEV}]</key>
                            <delay>0</delay>
                            <history>15d</history>
                            <value_type>FLOAT</value_type>
                            <units>%</units>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <parameters>
                                        <parameter>$.humidity</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>readserial.getline[{#DEV}]</key>
                            </master_item>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Environment</value>
                                </tag>
                            </tags>
                        </item_prototype>
                        <item_prototype>
                            <uuid>ec33fee223d04b0689c67705feec5aa1</uuid>
                            <name>Sensor {#DEV} serial number</name>
                            <type>DEPENDENT</type>
                            <key>tempsens.serial[{#DEV}]</key>
                            <delay>0</delay>
                            <history>15d</history>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <parameters>
                                        <parameter>$.serial_number</parameter>
                                    </parameters>
                                </step>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <parameters>
                                        <parameter>1d</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>readserial.getline[{#DEV}]</key>
                            </master_item>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Environment</value>
                                </tag>
                            </tags>
                        </item_prototype>
                        <item_prototype>
                            <uuid>43661a6d3dae4abab5282de42d85daf4</uuid>
                            <name>Sensor {#DEV} temperature</name>
                            <type>DEPENDENT</type>
                            <key>tempsens.temperature[{#DEV}]</key>
                            <delay>0</delay>
                            <history>15d</history>
                            <value_type>FLOAT</value_type>
                            <units>C</units>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <parameters>
                                        <parameter>$.temperature</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>readserial.getline[{#DEV}]</key>
                            </master_item>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Environment</value>
                                </tag>
                            </tags>
                        </item_prototype>
                    </item_prototypes>
                    <graph_prototypes>
                        <graph_prototype>
                            <uuid>d3d70bbf72a341fd997cb5f640701612</uuid>
                            <name>Physical environment {#DEV} (temperature and humidity)</name>
                            <graph_items>
                                <graph_item>
                                    <color>FF0000</color>
                                    <calc_fnc>ALL</calc_fnc>
                                    <item>
                                        <host>Template App Tempsens</host>
                                        <key>tempsens.temperature[{#DEV}]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>1</sortorder>
                                    <color>B2EBF2</color>
                                    <calc_fnc>ALL</calc_fnc>
                                    <item>
                                        <host>Template App Tempsens</host>
                                        <key>tempsens.humidity[{#DEV}]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                    </graph_prototypes>
                </discovery_rule>
            </discovery_rules>
        </template>
    </templates>
</zabbix_export>
