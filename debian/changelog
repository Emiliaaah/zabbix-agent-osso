zabbix-agent-osso (0.19) stable; urgency=low

  * galera: Add {$GALERA_NODECOUNT} macro to override the dflt 3 nodecount.
  * templates: Add templates for checking the hardware template.
  * templates: Lower entropy-check interval and document why:
    Kernel entropy interval must not be 5m (using 4.5m). On some systems
    (Debian Stretch? Kernel 4.9.0-3? Systemd 232-25+deb9u1?) the entropy
    is reset every 5 minutes. Unsure who causes this, but it appears to be
    a system daemon (systemd-* or kernel itself); as turning off as many
    daemons as possible did not stop the entropy drain/reset.
  * kernelmisc: Add net.tcpretranssegs and net.tcpsynretrans.
  * templates: Update templates to Zabbix 3.4.

 -- Walter Doekes <wjdoekes+zabbix-agent-osso@osso.nl>  Fri, 15 Feb 2019 17:58:34 +0100

zabbix-agent-osso (0.18~all) stable; urgency=low

  * Fix S.M.A.R.T. monitoring bug where partial errors would yield no
    output at all. Also do initial cache update on postinst.

 -- Walter Doekes <wjdoekes+zabbix-agent-osso@osso.nl>  Mon, 17 Jul 2017 22:25:57 +0200

zabbix-agent-osso (0.17~all) stable; urgency=low

  * Add S.M.A.R.T. monitoring for hardware nodes.

 -- Walter Doekes <wjdoekes+zabbix-agent-osso@osso.nl>  Mon, 17 Jul 2017 13:08:53 +0200

zabbix-agent-osso (0.16~all) stable; urgency=low

  * Ignore stderr of the update-notifier. Occasionally it would spam us with
    cruft.
  * Add Timeout=15 instead of the default of Timeout=3.

 -- Walter Doekes <wjdoekes+zabbix-agent-osso@osso.nl>  Mon, 10 Jul 2017 16:46:48 +0200

zabbix-agent-osso (0.15~all) stable; urgency=low

  * Move state files from /tmp to /var/lib/zabbix/scripts.
  * Prefer mktemp-generated files so there are no race conditions for
    simultaneously run cron jobs.
  * Alter most/all checks from "Zabbix Agent" to "Zabbix Agent (active)".
  * Add active.conf where an Alias for the Active ping is added.
  * Filter more ZFS filesystems from the RW/RO discovery.

 -- Walter Doekes <wjdoekes+zabbix-agent-osso@osso.nl>  Wed, 17 May 2017 11:42:13 +0200

zabbix-agent-osso (0.14~all) stable; urgency=low

  * Fixes:
    - zfs: Skip filesystems that are exactly 64 chars in hex. Assume those are
      autogenerated docker filesystems and we don't want updates about them.

 -- Walter Doekes <wjdoekes+zabbix-agent-osso@osso.nl>  Wed, 04 May 2017 13:44:21 +0200

zabbix-agent-osso (0.13~all) stable; urgency=low

  * Fixes:
    - zfs: Return 0 if there is no ZFS arc_max option.

 -- Walter Doekes <wjdoekes+zabbix-agent-osso@osso.nl>  Wed, 03 May 2017 15:23:44 +0200

zabbix-agent-osso (0.12~all) stable; urgency=low

  * Additions:
    - zfs: Add ZFS template and config files.
  * Fixes:
    - docs: Add ServerActive to default config.
    - templates: Use LASTVALUE in most trigger names.
  * Packaging:
    - Add "~all" in the name, so our packaging system recognises that it
      doesn't have to be repackaged for all individual distro's.

 -- Walter Doekes <wjdoekes+zabbix-agent-osso@osso.nl>  Wed, 03 May 2017 14:29:47 +0200

zabbix-agent-osso (0.11) stable; urgency=low

  * Fixes:
    - dpkg: Fixed missing semicolon in ifthen.

 -- Walter Doekes <wjdoekes+zabbix-agent-osso@osso.nl>  Wed, 12 Apr 2017 13:18:00 +0200

zabbix-agent-osso (0.10) stable; urgency=low

  * Additions:
    - daemons: Check either for gocollect or gocollect-fallback. Having
      either is fine.
    - mysql: Given enough permissions, you can now monitor/graph row
      counts/sizes for tables.
  * Fixes:
    - daemons: psdiff.missing/extra should not flip/flip to non-existent.
    - diskio: Check RO/RW for not only the root-mount.
    - dpkg: Attempt to avoid locking the DB during updates. This should
      reduce spurious error mails.
    - dpkg: Longer history for sec-updates, so we can trigger after a
      month.
  * Removals:
    - daemons: Remove old (duplicate) deprecated psdiff from template.
  * Trigger messages:
    - add {HOST.NAME} to various triggers.
  * Macro's added to disable checks:
    - daemons: {$DISABLE_PSDIFF} can be set to 1 on your template or
      host to disable psdiff triggers.
    - kernelmisc: {$DISABLE_FIREWALL} can be set to 1 on your template
      or host to disable firewall triggers.

 -- Walter Doekes <wjdoekes+zabbix-agent-osso@osso.nl>  Wed, 12 Apr 2017 09:42:12 +0200

zabbix-agent-osso (0.9) stable; urgency=low

  * Disable more diskio checks. Leave only the OPS and SECTOR counts.

 -- Walter Doekes <wjdoekes+zabbix-agent-osso@osso.nl>  Tue,  7 Mar 2017 12:33:30 +0100

zabbix-agent-osso (0.8) stable; urgency=low

  * Make old diskio checks return not-supported so the items will be
    auto-dropped by the zabbix server.

 -- Walter Doekes <wjdoekes+zabbix-agent-osso@osso.nl>  Tue,  7 Mar 2017 10:16:16 +0100

zabbix-agent-osso (0.7) stable; urgency=low

  * Ignore ZFS for rw-mount checks.
  * Ignore partitions for disk stats.
  * These changes might ease the load on the Zabbix server a bit.

 -- Walter Doekes <wjdoekes+zabbix-agent-osso@osso.nl>  Mon,  6 Mar 2017 18:07:30 +0100

zabbix-agent-osso (0.6) stable; urgency=low

  * Correct boolean value for mount points. Sometimes proc/mounts will
    report the FS more than once. Take the most RO-value.

 -- Walter Doekes <wjdoekes+zabbix-agent-osso@osso.nl>  Fri,  3 Mar 2017 11:28:41 +0100

zabbix-agent-osso (0.5) stable; urgency=low

  * Make psdiff output optional. If there is no psdiff.db, then
    psdiff will report unsupported.

 -- Walter Doekes <wjdoekes+zabbix-agent-osso@osso.nl>  Fri,  3 Mar 2017 11:16:01 +0100

zabbix-agent-osso (0.4) stable; urgency=low

  * kernelmisc.conf sudoers file fix.

 -- Walter Doekes <wjdoekes+zabbix-agent-osso@osso.nl>  Tue, 28 Feb 2017 14:53:39 +0100

zabbix-agent-osso (0.3) stable; urgency=low

  * Add mysql.conf.
  * Improve dpkg.updates.

 -- Walter Doekes <wjdoekes+zabbix-agent-osso@osso.nl>  Mon, 27 Feb 2017 12:57:04 +0100

zabbix-agent-osso (0.2) stable; urgency=low

  * Initial real release.

 -- Walter Doekes <wjdoekes+zabbix-agent-osso@osso.nl>  Wed, 22 Feb 2017 17:44:21 +0100
